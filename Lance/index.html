<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Lanceapp</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/stylish-portfolio.css" rel="stylesheet">
    <link href="css/stylesheet.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/flaticon.css"> 

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <!--
    <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.11/themes/ui-lightness/jquery-ui.css" type="text/css" media="all"/>
    -->
    <script src="https://www.google.com/jsapi" type="text/javascript"></script>
</head>
<body>
    <!-- Header-->
    <header class="header">
        <div class="text-vertical-center">
            <h2 class="lead" id="headerMessage">Get <em>quality</em> product designs in <span id="headerMessage_style"><em>3 easy steps.</em></span></h2>
            <button id="headerButton" onclick="window.location.href='#serviceinfo'">Start Here!</button>
            <br>
            <br>
        </div>
    </header>

    <aside><p class="lead" id="firstAside"> Here's How</p></aside>

    <section id="serviceinfo">
        <div class="container fluid" id="serviceinfo_container">
            <div class="col-lg-4 text-center" id="serviceinfo_describe">
                <p style="font-size:25px;">
                    <strong>Describe</strong>
                </p>
            <div id="serviceinfo_icon_container"></div>
            <br>
            <p style="font-size:17px;">Describe your vision with keywords and any specific details or preferences.</p>
            </div>

            <div class="col-lg-4 text-center" id="serviceinfo_describe">
                <p style="font-size:25px;">
                    <strong>Envision</strong>
                </p>
                <div id="serviceinfo_icon_container"></div>
                <br>
                <p style="font-size:17px;">Select an image that most closely represents your vision.</p>
            </div>
            <div class="col-lg-4 text-center" id="serviceinfo_describe">
                <p style="font-size:25px;">
                    <strong>Create</strong>
                </p>
                <div id="serviceinfo_icon_container"></div>
                <br>
                <p style="font-size:17px;">Sit back and watch our team of engineers and designers turn your vision into reality.</p>
            </div>
        </div>
    </section>


   <aside><p class="lead" id="secondAside"> Start Now! Your product is literally two button clicks away.</p></aside>

    <!-- Describe Section -->
    <section id="description" class="about" >
    
    <div class="col-lg-12 text-center" id="description_container">
        <div style="width:100%; height:30%;">
            <div class="container-fluid" id="search_results" style="width:100%; height:100%;"></div>
        </div>
        <div style= "height:31%; width:100%;">
            <div class="col-lg-4" id="search_results_3" style=" height:100%;"></div>
            <div class="col-lg-4" style=" height:100%;">
                <textarea id="search-form" placeholder="Describe your vision here!" onkeyup="displayGenerateButton(); getSearch();"></textarea>
            </div>
            <div class="col-lg-4" style=" height:100%;">
            </div>
        </div>
    <div style="width:100%; height:30%;">
        <div class="container-fluid" id="search_results_2" style="width:100%; height:100%;"></div>
    </div>
    <div id="getsearchbutton_container" class="container-fluid hidden" style="height:9%;">
        <button id="getsearchbutton" href="#addimage" onclick="getSearch()">Generate Images</button> 
    </div>

        <div class="container-fluid" style="height:9%;">
        <button id="fileuploadbutton" href="#addimage" onclick="uploadAction()">Upload an image</button> 
        <input type="file" name="file" id="file" ></input>
    </div>
    </div>
     
    </section>


    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-10 col-lg-offset-1 text-center">
                    <h4><strong>Lance</strong>
                    </h4>
                    <p>3200 Race Street<br>Philadelphia, PA 19104</p>
                    <ul class="list-unstyled">
                        <li><i class="fa fa-phone fa-fw"></i> (123) 456-7890</li>
                        <li><i class="fa fa-envelope-o fa-fw"></i>  <a href="mailto:danishd@me.com">name@example.com</a>
                        </li>
                    </ul>
                    <br>
                    <ul class="list-inline">
                        <li>
                            <a href="#"><i class="fa fa-facebook fa-fw fa-3x"></i></a>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-twitter fa-fw fa-3x"></i></a>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-dribbble fa-fw fa-3x"></i></a>
                        </li>
                    </ul>
                    <hr class="small">
                    <p class="text-muted">Copyright &copy; Danish Corporation 2016</p>
                </div>
            </div>
        </div>
    </footer>



    <!-- jQuery -->
    <script src="js/jquery.js"></script>
    <script src="js/jquery_2.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>


<script type="text/javascript">
var array = [];
var carouselstring ="";
var file;

function uploadAction(){
    document.getElementById('file').click(); return false;
    console.log(document.getElementById('file').files[0])
    setTimeout(function(){
        console.log( "result" + computerVisionGet("application/octet-stream",document.getElementById('file').files[0]));
    }, 2000);

}

function computerVisionGet(contentType, content)
{
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "POST", "https://api.projectoxford.ai/vision/v1/analyses?visualFeatures=All&subscription-key=b17e9a8219cc4e35ad8158182e259c6e", false );
    xmlHttp.setRequestHeader("Content-type",contentType);
    xmlHttp.setRequestHeader("Ocp-Apim-Subscription-Key","b17e9a8219cc4e35ad8158182e259c6e");
    xmlHttp.send(content);
    return xmlHttp.responseText;
}


/*
function getComputerVision(){
    console.log(computerVisionGet(,document.getElementById('search-form').value));
    "{'Url':'"+imageURL+"'}"
}*/

function RequestCreator() 
{
    queryItem  = document.getElementById('search-form').value;
    var url = "https://bingapis.azure-api.net/api/v5/images/search?q="+ queryItem+"&count=7&offset=0&mkt=en-us&safeSearch=Moderate"
    return url;
}


function httpGet(theUrl)
{
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", theUrl, false ); 
    xmlHttp.setRequestHeader("Ocp-Apim-Subscription-Key","3d9c8e796bf2453198b88bbf6375ffe6");
    xmlHttp.send(null);
    return xmlHttp.responseText;
}


function deleteOldImages(){
    while (document.getElementById("search_results_3").firstChild) 
    {
        document.getElementById("search_results_3").removeChild(document.getElementById("search_results_3").firstChild);
    }


    while (document.getElementById("search_results").firstChild) 
    {
        document.getElementById("search_results").removeChild(document.getElementById("search_results").firstChild);
        document.getElementById("search_results_2").removeChild(document.getElementById("search_results_2").firstChild);
    }
}

function generateURL(){
    return array[Math.floor((Math.random() * array.length + 1))];
}

function displayGenerateButton(){

    for(i =1;i>=0;i-=0.001){
    document.getElementById("fileuploadbutton").style.opacity = i;
    }
    
    document.getElementById("getsearchbutton_container").className = "container-fluid";
    document.getElementById("fileuploadbutton").style.visibility = "hidden";
    document.getElementById("getsearchbutton").style.visibility = "visible";
    for(i =0;i<=1;i+=0.001){
    document.getElementById("getsearchbutton").style.opacity = i;
    }
}

function getSearch_(){
    array = []
    var jSONResuts = httpGet(RequestCreator());
    JSON.parse(jSONResuts,function(key,value){
        if(key == "thumbnailUrl"){
            array.push(value);
        }
    })

    for(count = 0; count <= 6; count++){
 
        carouselstring+= "<div class=\"item\"><img src="+generateURL()+ " alt=\"Flower\"></div>"
    }

    document.getElementById("search_car").innerHTML = carouselstring;
    console.log(carouselstring);
}

function getSearch() 
{
    deleteOldImages();
    document.getElementById("description").style.height = "130%";
    var jSONResuts = httpGet(RequestCreator());
    JSON.parse(jSONResuts,function(key,value){
        if(key == "thumbnailUrl"){
            array.push(value);
        }
    })

    for(count =0; count <=6; count++){
            var img = document.createElement('img');
            img.src = generateURL();

            if(count<= 2){
            img.id = "AppendedImages";
            document.getElementById('search_results').appendChild(img);
            }

            if(count> 2 && count <= 5){
            img.id = "AppendedImages";
            document.getElementById('search_results_2').appendChild(img);
            }
            if(count == 6){
            img.id = "AppendedImage";
            document.getElementById('search_results_3').appendChild(img);
            }
        }
document.getElementById("getsearchbutton").innerHTML = "Reload Images";


}


$(function () {
    var dropZoneId = "dropzone";
    var dropZone = $("#" + dropZoneId);
    var inputFile = dropZone.find("input");
    file = inputFile;
});


</script>

<!--
<section id="about" class="about hidden-lg hidden-md" style=" border-bottom:1px solid #e0e0e0;height:55%; border-top:1px solid #e0e0e0; background:#f5f5f5;">
    <input style="height:65px; width:100%; margin-top:3%;" type="text" id="search-form"  style=";" Placeholder="Describe your vision!"></input> 
    <button style="height:40px; width:20%; margin-top:5%; margin-bottom:2%;" href="#addimage" onclick="getSearch_()">Generate</button> 
    <div class="container-fluid">
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
        <li data-target="#myCarousel" data-slide-to="3"></li>
        <li data-target="#myCarousel" data-slide-to="4"></li>
        <li data-target="#myCarousel" data-slide-to="5"></li>
    </ol>

    <div class="carousel-inner" id="search_car" role="listbox">
    </div>

    <a id="car_scroll" class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a id="car_scroll" class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
    </div>

    </div>

    </section>-->

</body>

</html>
